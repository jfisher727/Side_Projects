{% extends 'FantasyFootball/navigation.html' %}
{% block 'body' %}
{% load dictionary_extras %}

    {% if matchup %}
        <center><h3> {{ matchup.away_team }} {{ matchup.away_score }} </h3></center>
        <center><h3> {{ matchup.home_team }} {{ matchup.home_score }}</h3></center>

        {% if home_team and away_team %}
            <h2> Away Team </h2>
                <h3> Passing </h3>
                <table>
                    <tr><th>Name</th><th>Completitions</th><th>Attempts</th><th>Yards</th><th>TD</th><th>INT</th></tr>
                    {% for stat in away_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with player_id=statstring|playerid %}
                            {% if statstring|contains:"Position: QB" %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</a></td>
                                    <td>{{ stat.passing_completions }}</td>
                                    <td>{{ stat.passing_attempts }}</td>
                                    <td>{{ stat.passing_yards }}</td>
                                    <td>{{ stat.passing_td }}</td>
                                    <td>{{ stat.passing_int }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Rushing </h3>
                <table>
                    <tr><th>Name</th><th>Position</th><th>Attempts</th><th>Yards</th><th>TD</th></tr>
                    {% for stat in away_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with player_id=statstring|playerid %}
                            {% if stat.rushing_attempts >= 1 %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</a></td>
                                    <td>{{ stat.rushing_attempts }}</td>
                                    <td>{{ stat.rushing_yards }}</td>
                                    <td>{{ stat.rushing_td }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Receiving </h3>
                <table>
                    <tr><th>Name</th><th>Position</th><th>Receptions</th><th>Targets</th><th>Yards</th><th>TD</th></tr>
                    {% for stat in away_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with position=statstring|position %}
                        {% with player_id=statstring|playerid %}
                            {% if stat.receiving_targets >= 1 %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</td>
                                    <td>{{ position }}</td>
                                    <td>{{ stat.receiving_receptions }}</td>
                                    <td>{{ stat.receiving_targets }}</td>
                                    <td>{{ stat.receiving_yards }}</td>
                                    <td>{{ stat.receiving_td }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Kicking </h3>
                <table>
                    <tr><th>Name</th><th>Field Goals Made</th><th>Field Goals Attempted</th><th>Extra Points Made</th><th>Extra Points Attempted</th></tr>
                    {% for stat in away_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with player_id=statstring|playerid %}
                            {% if statstring|contains:"Position: K" %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</a></td>
                                    <td>{{ stat.field_goal_made }}</td>
                                    <td>{{ stat.field_goal_attempts }}</td>
                                    <td>{{ stat.extra_point_made }}</td>
                                    <td>{{ stat.extra_point_attempts }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Defense </h3>
                <table>
                    <tr><th>Sacks</th><th>Fumbles Recovered</th><th>Interceptions</th><th>Defensive TD</th><th>Points Against</th><th>Passing Yards Against</th><th>Rushing Yards Against</th><th>Safety</th><th>Kick Return TD</th></tr>
                    {% for stat in away_team %}
                        {% with statstring=stat|stringformat:'s' %}
                            {% if statstring|contains:"DEF" %}
                                <tr>
                                    <td>{{ stat.sacks }}</td><td>{{ stat.fumble_recovery }}</td>
                                    <td>{{ stat.interceptions }}</td>
                                    <td>{{ stat.defensive_td }}</td>
                                    <td>{{ stat.points_against }}</td>
                                    <td>{{ stat.passing_yards_against }}</td>
                                    <td>{{ stat.rushing_yards_against }}</td>
                                    <td>{{ stat.safety }}</td>
                                    <td>{{ stat.kick_return_td }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                    {% endfor %}
                </table>

            <h2> Home Team </h2>
                <h3> Passing </h3>
                <table>
                    <tr><th>Name</th><th>Completitions</th><th>Attempts</th><th>Yards</th><th>TD</th><th>INT</th></tr>
                    {% for stat in home_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with player_id=statstring|playerid %}
                            {% if statstring|contains:"Position: QB" %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</a></td>
                                    <td>{{ stat.passing_completions }}</td>
                                    <td>{{ stat.passing_attempts }}</td>
                                    <td>{{ stat.passing_yards }}</td>
                                    <td>{{ stat.passing_td }}</td>
                                    <td>{{ stat.passing_int }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Rushing </h3>
                <table>
                    <tr><th>Name</th><th>Position</th><th>Attempts</th><th>Yards</th><th>TD</th></tr>
                    {% for stat in home_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with player_id=statstring|playerid %}
                            {% if stat.rushing_attempts >= 1 %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</a></td>
                                    <td>{{ stat.rushing_attempts }}</td>
                                    <td>{{ stat.rushing_yards }}</td>
                                    <td>{{ stat.rushing_td }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Receiving </h3>
                <table>
                    <tr><th>Name</th><th>Position</th><th>Receptions</th><th>Targets</th><th>Yards</th><th>TD</th></tr>
                    {% for stat in home_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with position=statstring|position %}
                        {% with player_id=statstring|playerid %}
                            {% if stat.receiving_targets >= 1 %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</td>
                                    <td>{{ position }}</td>
                                    <td>{{ stat.receiving_receptions }}</td>
                                    <td>{{ stat.receiving_targets }}</td>
                                    <td>{{ stat.receiving_yards }}</td>
                                    <td>{{ stat.receiving_td }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Kicking </h3>
                <table>
                    <tr><th>Name</th><th>Field Goals Made</th><th>Field Goals Attempted</th><th>Extra Points Made</th><th>Extra Points Attempted</th></tr>
                    {% for stat in home_team %}
                        {% with statstring=stat|stringformat:'s' %}
                        {% with playername=statstring|name %}
                        {% with player_id=statstring|playerid %}
                            {% if statstring|contains:"Position: K" %}
                                <tr>
                                    <td><a href="{% url 'fantasyfootball:player_details' player_id %}">{{ playername }}</a></td>
                                    <td>{{ stat.field_goal_made }}</td>
                                    <td>{{ stat.field_goal_attempts }}</td>
                                    <td>{{ stat.extra_point_made }}</td>
                                    <td>{{ stat.extra_point_attempts }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                        {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </table>
                <h3> Defense </h3>
                <table>
                    <tr><th>Sacks</th><th>Fumbles Recovered</th><th>Interceptions</th><th>Defensive TD</th><th>Points Against</th><th>Passing Yards Against</th><th>Rushing Yards Against</th><th>Safety</th><th>Kick Return TD</th></tr>
                    {% for stat in home_team %}
                        {% with statstring=stat|stringformat:'s' %}
                            {% if statstring|contains:"DEF" %}
                                <tr>
                                    <td>{{ stat.sacks }}</td><td>{{ stat.fumble_recovery }}</td>
                                    <td>{{ stat.interceptions }}</td>
                                    <td>{{ stat.defensive_td }}</td>
                                    <td>{{ stat.points_against }}</td>
                                    <td>{{ stat.passing_yards_against }}</td>
                                    <td>{{ stat.rushing_yards_against }}</td>
                                    <td>{{ stat.safety }}</td>
                                    <td>{{ stat.kick_return_td }}</td>
                                </tr>
                            {% endif %}
                        {% endwith %}
                    {% endfor %}
                </table>
        {% endif %}
    {% endif %}
{% endblock %}